{"version":3,"sources":["main-vue.es6.js"],"names":["apiModule","module","url","getUrl","gameItemTemplate","Vue","component","props","template","tableRowTemplate","data","statsCategories","vm","el","minuteStart","minuteEnd","currentDate","undefined","gamesList","selectedGameID","teamA","teamAName","teamB","teamBName","methods","getGames","event","formData","FormData","set","formatDate","axios","method","responseType","then","response","length","catch","error","console","log","getData","minuteRange","teamAbbrs","Object","keys","assign","computed","mounted","noUiSlider","create","$refs","vueInputSlider","start","step","connect","range","pips","mode","density","filter","value","type","on","values","parseInt","dateString","replace","RegExp"],"mappings":"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","file":"main-vue.js","sourcesContent":["const apiModule = (function(){\n  let module = {};\n  const url = \"http://localhost:8888/api/index.php\";\n\n  module.getUrl = () => {\n    return url;\n  };\n\n  return module;\n}());\n\n// https://vuejs.org/v2/guide/components.html#Using-v-model-on-Components\nconst gameItemTemplate = `\n  <div class=\"form-check\">\n    <label class=\"form-check-label\">\n      <input type=\"radio\" name=\"game\" :value=\"game.gameID\" class=\"form-check-input\" v-on:input=\"$emit('input', $event.target.value)\">\n      <span>{{ game.homeTeam.teamName }} vs {{game.awayTeam.teamName }}</span>\n    </label>\n  </div>\n`;\nVue.component('game-item', {\n  props: ['game'],\n  template: gameItemTemplate\n});\n\nconst tableRowTemplate = `\n  <tr>\n    <td>{{ rowName }}</td>\n    <td v-for=\"cat in statsCategories\">\n      {{ rowData[cat] }}\n    </td>\n  </tr>\n`;\nVue.component('table-row', {\n  props: ['rowData', 'rowName'],\n  template: tableRowTemplate,\n  data: function(){\n    return {\n      statsCategories: ['PTS', 'FGM', 'FGA', '2PM', '2PA', '3PM', '3PA', 'FTM', 'FTA', 'REB', 'TOV', 'PF', 'SUB']\n    }\n  }\n});\n\nconst vm = new Vue ({\n  el: '#app',\n  data: {\n    minuteStart: 0,\n    minuteEnd: 48,\n    currentDate: undefined,\n    gamesList: [],\n    selectedGameID: undefined,\n    teamA: {},\n    teamAName: undefined,\n    teamB: {},\n    teamBName: undefined\n  },\n  methods: {\n    getGames: function(event){\n      if( this.currentDate !== undefined ){\n        const formData = new FormData();\n        formData.set('action', 'getGames');\n        formData.set('gameDate', formatDate(this.currentDate));\n\n        axios({\n          method: 'post',\n          url: apiModule.getUrl(),\n          data: formData,\n          responseType: 'json'\n        })\n        .then((response) => {\n          if( response.data.length > 0 ){\n            this.gamesList = response.data;\n          }\n        })\n        .catch(function(error){\n          console.log( error );\n        });\n      }\n    },\n    getData: function(event){\n      if( this.selectedGameID !== undefined && this.currentDate !== undefined && this.minuteRange.length === 2 ){\n        const formData = new FormData();\n        formData.set('action', \"getStats\");\n        formData.set('gameID', this.selectedGameID);\n        formData.set('gameDate', formatDate(this.currentDate));\n        formData.set('startTime', this.minuteRange[0]);\n        formData.set('endTime', this.minuteRange[1]);\n\n        axios({\n          method: 'post',\n          url: apiModule.getUrl(),\n          data: formData,\n          responseType: 'json'\n        })\n        .then((response) => {\n          console.log( response );\n          var teamAbbrs = Object.keys(response.data);\n          this.teamA = Object.assign({}, this.teamA, response.data[teamAbbrs[0]]);\n          this.teamAName = teamAbbrs[0];\n\n          this.teamB = Object.assign({}, this.teamB, response.data[teamAbbrs[1]]);\n          this.teamBName = teamAbbrs[1];\n        })\n        .catch(function(error){\n          console.log( error );\n        });\n      }\n    }\n  },\n  computed: {\n    minuteRange: function() {\n      return [this.minuteStart, this.minuteEnd];\n    }\n  },\n  mounted: function(){\n    // const date = new Date();\n    // date.setDate( date.getDate() - 1 );\n    // this.currentDate = date.toISOString().substr(0,10);\n    this.currentDate = '2017-11-08';\n    /*\n      Initialize time range slider\n      */\n      noUiSlider.create(this.$refs.vueInputSlider, {\n        start: [this.minuteStart, this.minuteEnd],\n        step: 1,\n        connect: true,\n        range: {\n          'min': [0],\n          'max': [48],\n        },\n        pips: {\n          mode: 'steps',\n          density: 3,\n          filter: function( value, type ){\n            return value % 12 ? 2 : 1;\n          }\n        }\n      });\n\n      this.$refs.vueInputSlider.noUiSlider.on('set', (values) => {\n        this.minuteStart = parseInt(values[0]);\n        this.minuteEnd = parseInt(values[1]);\n      });\n    }\n  });\n\n\n/**\n * Format date from input to match pattern accepted by the NBA's API\n * @param  String\n * @return String\n */\n function formatDate(dateString){\n  return dateString.replace(new RegExp('-', 'g'), \"\");\n}\n"]}