{"version":3,"sources":["main-vue.es6.js"],"names":["apiModule","module","url","getUrl","gameItemTemplate","Vue","component","props","template","tableRowTemplate","data","statsCategories","vm","el","minuteStart","minuteEnd","currentDate","undefined","gamesList","selectedGameIndex","homeTeamName","awayTeamName","homeTeamStats","awayTeamStats","playList","methods","getGames","event","formData","FormData","set","formatDate","axios","method","responseType","then","response","length","catch","error","console","log","getData","minuteRange","selectedGameID","stats","homeTeamAbbr","homeTeam","abbreviation","awayTeamAbbr","awayTeam","Object","assign","computed","mounted","noUiSlider","create","$refs","vueInputSlider","start","step","connect","range","pips","mode","density","filter","value","type","on","values","parseInt","dateString","replace","RegExp"],"mappings":"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","file":"main-vue.js","sourcesContent":["const apiModule = (function(){\n  let module = {};\n  const url = \"http://localhost:8888/api/index.php\";\n\n  module.getUrl = () => {\n    return url;\n  };\n\n  return module;\n}());\n\n// https://vuejs.org/v2/guide/components.html#Using-v-model-on-Components\nconst gameItemTemplate = `\n  <div class=\"form-check\">\n    <label class=\"form-check-label\">\n      <input type=\"radio\" name=\"game\" :value=\"index\" class=\"form-check-input\" v-on:input=\"$emit('input', $event.target.value)\">\n      <span>{{ game.homeTeam.teamName }} vs {{game.awayTeam.teamName }}</span>\n    </label>\n  </div>\n`;\nVue.component('game-item', {\n  props: ['game', 'index'],\n  template: gameItemTemplate\n});\n\nconst tableRowTemplate = `\n  <tr>\n    <td>{{ rowName }}</td>\n    <td v-for=\"cat in statsCategories\">\n      {{ rowData[cat] }}\n    </td>\n  </tr>\n`;\nVue.component('table-row', {\n  props: ['rowData', 'rowName'],\n  template: tableRowTemplate,\n  data: function(){\n    return {\n      statsCategories: ['PTS', 'FGM', 'FGA', '2PM', '2PA', '3PM', '3PA', 'FTM', 'FTA', 'REB', 'TOV', 'PF', 'SUB']\n    }\n  }\n});\n\nconst vm = new Vue ({\n  el: '#app',\n  data: {\n    minuteStart: 0,\n    minuteEnd: 48,\n    currentDate: undefined,\n    gamesList: {},\n    selectedGameIndex: undefined,\n    homeTeamName: undefined,\n    awayTeamName: undefined,\n    homeTeamStats: {},\n    awayTeamStats: {},\n    playList: []\n  },\n  methods: {\n    getGames: function(event){\n      if( this.currentDate !== undefined ){\n        const formData = new FormData();\n        formData.set('action', 'getGames');\n        formData.set('gameDate', formatDate(this.currentDate));\n\n        axios({\n          method: 'post',\n          url: apiModule.getUrl(),\n          data: formData,\n          responseType: 'json'\n        })\n        .then((response) => {\n          if( response.data.length > 0 ){\n            this.selectedGameIndex = undefined;\n            this.gamesList = response.data;\n          }\n        })\n        .catch(function(error){\n          console.log( error );\n        });\n      }\n    },\n    getData: function(event){\n      if( this.selectedGameIndex !== undefined && this.currentDate !== undefined && this.minuteRange.length === 2 ){\n        const formData = new FormData();\n        formData.set('action', \"getStats\");\n        formData.set('gameID', this.selectedGameID);\n        formData.set('gameDate', formatDate(this.currentDate));\n        formData.set('startTime', this.minuteRange[0]);\n        formData.set('endTime', this.minuteRange[1]);\n\n        axios({\n          method: 'post',\n          url: apiModule.getUrl(),\n          data: formData,\n          responseType: 'json'\n        })\n        .then((response) => {\n          const stats = response.data[0];\n          const homeTeamAbbr = this.gamesList[this.selectedGameIndex].homeTeam.abbreviation;\n          const awayTeamAbbr = this.gamesList[this.selectedGameIndex].awayTeam.abbreviation;\n          this.homeTeamName = homeTeamAbbr;\n          this.homeTeamStats = Object.assign({}, stats[homeTeamAbbr]);\n          this.awayTeamName = awayTeamAbbr;\n          this.awayTeamStats = Object.assign({}, stats[awayTeamAbbr]);\n\n          this.playList = response.data[1];\n        })\n        .catch(function(error){\n          console.log( error );\n        });\n      }\n    }\n  },\n  computed: {\n    minuteRange: function() {\n      return [this.minuteStart, this.minuteEnd];\n    },\n    selectedGameID: function(){\n      if( this.selectedGameIndex === undefined ){\n        return undefined;\n      }\n      return this.gamesList[this.selectedGameIndex]['gameID'];\n    }\n  },\n  mounted: function(){\n    // const date = new Date();\n    // date.setDate( date.getDate() - 1 );\n    // this.currentDate = date.toISOString().substr(0,10);\n    this.currentDate = '2017-11-08';\n    /*\n      Initialize time range slider\n      */\n      noUiSlider.create(this.$refs.vueInputSlider, {\n        start: [this.minuteStart, this.minuteEnd],\n        step: 1,\n        connect: true,\n        range: {\n          'min': [0],\n          'max': [48],\n        },\n        pips: {\n          mode: 'steps',\n          density: 3,\n          filter: function( value, type ){\n            return value % 12 ? 2 : 1;\n          }\n        }\n      });\n\n      this.$refs.vueInputSlider.noUiSlider.on('set', (values) => {\n        this.minuteStart = parseInt(values[0]);\n        this.minuteEnd = parseInt(values[1]);\n      });\n    }\n  });\n\n\n/**\n * Format date from input to match pattern accepted by the NBA's API\n * @param  String\n * @return String\n */\n function formatDate(dateString){\n  return dateString.replace(new RegExp('-', 'g'), \"\");\n}\n"]}