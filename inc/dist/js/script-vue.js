"use strict";function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function formatDate(a){return a.replace(new RegExp("-","g"),"")}var apiModule=function(){var a={};return a.getUrl=function(){return"http://nba.test/api/index.php"},a}(),gameItemTemplate='\n  <div class="form-check">\n    <label class="form-check-label">\n      <input type="radio" name="game" :value="index" class="form-check-input" v-on:input="$emit(\'input-game\', $event.target.value)">\n      <span>{{ game.homeTeam.teamName }} vs {{game.awayTeam.teamName }}</span>\n    </label>\n  </div>\n';Vue.component("game-item",{props:["game","index"],template:gameItemTemplate});var tableRowTemplate='\n  <tr>\n    <td>{{ rowName }}</td>\n    <td v-for="cat in statsCategories">\n      {{ rowData[cat] }}\n    </td>\n  </tr>\n';Vue.component("table-row",{props:["rowData","rowName"],template:tableRowTemplate,data:function(){return{statsCategories:["PTS","FGM","FGA","2PM","2PA","3PM","3PA","FTM","FTA","REB","TOV","PF","SUB"]}}});var vm=new Vue({el:"#app",data:{minuteStart:0,minuteEnd:48,currentDate:void 0,gamesList:{},selectedGameIndex:void 0,homeTeamName:void 0,awayTeamName:void 0,homeTeamStats:{},awayTeamStats:{},playList:[]},methods:{getGames:function(a){var b=this;if(void 0!==this.currentDate){var c=new FormData;c.set("action","getGames"),c.set("gameDate",formatDate(this.currentDate)),axios({method:"post",url:apiModule.getUrl(),data:c,responseType:"json"}).then(function(a){a.data.length>0&&(b.selectedGameIndex=void 0,b.gamesList=a.data)}).catch(function(a){console.log(a)})}},getData:function(a){var b=this;if(void 0!==this.selectedGameIndex&&void 0!==this.currentDate&&2===this.minuteRange.length){var c=new FormData;c.set("action","getStats"),c.set("gameID",this.selectedGameID),c.set("gameDate",formatDate(this.currentDate)),c.set("startTime",this.minuteRange[0]),c.set("endTime",this.minuteRange[1]),axios({method:"post",url:apiModule.getUrl(),data:c,responseType:"json"}).then(function(a){var c=a.data[0],d=b.gamesList[b.selectedGameIndex].homeTeam.abbreviation,e=b.gamesList[b.selectedGameIndex].awayTeam.abbreviation;b.homeTeamName=d,b.homeTeamStats=Object.assign({},c[d]),b.awayTeamName=e,b.awayTeamStats=Object.assign({},c[e]),b.playList=[].concat(_toConsumableArray(a.data[1]))}).catch(function(a){console.log(a)})}},quickSetSlider:function(a){switch(a.target.dataset.quarter){case"first":this.$refs.vueInputSlider.noUiSlider.set([0,12]);break;case"second":this.$refs.vueInputSlider.noUiSlider.set([12,24]);break;case"third":this.$refs.vueInputSlider.noUiSlider.set([24,36]);break;case"fourth":this.$refs.vueInputSlider.noUiSlider.set([36,48]);break;case"all":this.$refs.vueInputSlider.noUiSlider.set([0,48])}}},computed:{minuteRange:function(){return[this.minuteStart,this.minuteEnd]},selectedGameID:function(){if(void 0!==this.selectedGameIndex)return this.gamesList[this.selectedGameIndex].gameID}},mounted:function(){var a=this;this.currentDate="2017-11-08",noUiSlider.create(this.$refs.vueInputSlider,{start:[this.minuteStart,this.minuteEnd],step:1,connect:!0,range:{min:[0],max:[48]},pips:{mode:"steps",density:3,filter:function(a,b){return a%12?2:1}}}),this.$refs.vueInputSlider.noUiSlider.on("set",function(b){a.minuteStart=parseInt(b[0]),a.minuteEnd=parseInt(b[1])})}});