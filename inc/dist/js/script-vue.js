"use strict";function formatDate(a){return a.replace(new RegExp("-","g"),"")}var apiModule=function(){var a={};return a.getUrl=function(){return"http://localhost:8888/api/index.php"},a}(),gameItemTemplate='\n  <div class="form-check">\n    <label class="form-check-label">\n      <input type="radio" name="game" :value="index" class="form-check-input" v-on:input="$emit(\'input\', $event.target.value)">\n      <span>{{ game.homeTeam.teamName }} vs {{game.awayTeam.teamName }}</span>\n    </label>\n  </div>\n';Vue.component("game-item",{props:["game","index"],template:gameItemTemplate});var tableRowTemplate='\n  <tr>\n    <td>{{ rowName }}</td>\n    <td v-for="cat in statsCategories">\n      {{ rowData[cat] }}\n    </td>\n  </tr>\n';Vue.component("table-row",{props:["rowData","rowName"],template:tableRowTemplate,data:function(){return{statsCategories:["PTS","FGM","FGA","2PM","2PA","3PM","3PA","FTM","FTA","REB","TOV","PF","SUB"]}}});var vm=new Vue({el:"#app",data:{minuteStart:0,minuteEnd:48,currentDate:void 0,gamesList:{},selectedGameIndex:void 0,homeTeamName:void 0,awayTeamName:void 0,homeTeamStats:{},awayTeamStats:{}},methods:{getGames:function(a){var b=this;if(void 0!==this.currentDate){var c=new FormData;c.set("action","getGames"),c.set("gameDate",formatDate(this.currentDate)),axios({method:"post",url:apiModule.getUrl(),data:c,responseType:"json"}).then(function(a){a.data.length>0&&(b.selectedGameIndex=void 0,b.gamesList=a.data)}).catch(function(a){console.log(a)})}},getData:function(a){var b=this;if(void 0!==this.selectedGameIndex&&void 0!==this.currentDate&&2===this.minuteRange.length){var c=new FormData;c.set("action","getStats"),c.set("gameID",this.selectedGameID),c.set("gameDate",formatDate(this.currentDate)),c.set("startTime",this.minuteRange[0]),c.set("endTime",this.minuteRange[1]),axios({method:"post",url:apiModule.getUrl(),data:c,responseType:"json"}).then(function(a){var c=b.gamesList[b.selectedGameIndex].homeTeam.abbreviation,d=b.gamesList[b.selectedGameIndex].awayTeam.abbreviation;b.homeTeamName=c,b.homeTeamStats=Object.assign({},a.data[c]),b.awayTeamName=d,b.awayTeamStats=Object.assign({},a.data[d])}).catch(function(a){console.log(a)})}}},computed:{minuteRange:function(){return[this.minuteStart,this.minuteEnd]},selectedGameID:function(){if(void 0!==this.selectedGameIndex)return this.gamesList[this.selectedGameIndex].gameID}},mounted:function(){var a=this;this.currentDate="2017-11-08",noUiSlider.create(this.$refs.vueInputSlider,{start:[this.minuteStart,this.minuteEnd],step:1,connect:!0,range:{min:[0],max:[48]},pips:{mode:"steps",density:3,filter:function(a,b){return a%12?2:1}}}),this.$refs.vueInputSlider.noUiSlider.on("set",function(b){a.minuteStart=parseInt(b[0]),a.minuteEnd=parseInt(b[1])})}});